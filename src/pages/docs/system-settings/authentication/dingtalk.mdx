import { Steps } from '@/components/docs/steps'
import { Alert } from '@/components/docs/alert'
import { Icon } from '@/components/docs/icons'

# Integrate DingTalk authentication <Icon name="xpackTip"/>

## About DingTalk
**DingTalk** authentication is an identity verification method based on DingTalk, supporting OAuth 2.0 authorization, QR code login, and enterprise identity binding, enabling secure and convenient enterprise user login and management.

## How to configure
<Steps>
<div>
In the upper-right corner of any page in JumpServer, click <Icon name="settings"/>.
<img src="/images/docs/admin-guides/system-settings/nav-settings.png" alt="image" width="350"/>
</div>

<div>
Navigate to **System settings > Authentication > DingTalk**.
</div>

<div>
In the **DingTalk** field, check to use DingTalk authentication.
</div>

<div>
In the **Agent ID** field, enter the DingTalk agent ID, which uniquely identifies a micro-application within the enterprise and is primarily used for sending work notifications.
</div>


<div>
In the **App key** field, enter the DingTalk app key, a unique identifier for the application, similar to a username for API access.
</div>

<div>
In the **App secret** field, enter the DingTalk app secret, similar to a password for API access, used to obtain AccessToken for calling APIs.
</div>

<div>
In the **User attribute** field, enter the user attribute mapping. The key represents the JumpServer user attribute name (available options: name, username, email, phone, comment), while the value corresponds to the DingTalk user attribute name.
```json copy=true filename="DingTalk User Attribute Example"
{
  "name": "name",
  "username": "name",
  "email": "email"
}
```
</div>

<div>
In the **Organization** field, after authentication and creation, the user will be added to the selected organization.
</div>

<div>
Click **Submit**.
</div>

</Steps>

## Test DingTalk connection
<Steps>
<div>
In the upper-right corner of any page in JumpServer, click <Icon name="settings"/>.
<img src="/images/docs/admin-guides/system-settings/nav-settings.png" alt="image" width="350"/>
</div>

<div>
Navigate to **System settings > Authentication > DingTalk**.
</div>

<div>
Scroll to the bottom of the page and click the **Test** button.
</div>

</Steps>

## JumpServer DingTalk URLs

```md filename="QR Login URL"
https://jumpserver.example.com/core/auth/dingtalk/qr/login/
```

```md filename="QR Login Success Callback URL"
https://jumpserver.example.com/core/auth/dingtalk/qr/login/callback/
```

```md filename="OAuth Login URL"
https://jumpserver.example.com/core/auth/dingtalk/oauth/login/
```

```md filename="OAuth Login Success Callback URL"
https://jumpserver.example.com/core/auth/dingtalk/oauth/login/callback/
```